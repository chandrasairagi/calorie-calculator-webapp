<!DOCTYPE html>
<html lang="en">

<head>
	<title>Calorie calculator</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body,h1,h2,h3,h4,h5,h6,p {font-family: "Raleway", Arial, Helvetica, sans-serif}
.mySlides {display: none}
table{
width:100%;
    border : 1px solid black;
    
}
th,td{
    width : 30%;
    height: 30;
}
input[type="number"]{
    margin: 5px left right;
    width:60%;
}
</style>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script >

  
  var res; 
  var urLimit;
  function myCal() {
   var gm=document.getElementById("male").checked;
   var age = document.getElementById("age").value;
   var h = document.getElementById("height").value;
   var w = document.getElementById("weight").value;
   urLimit=document.getElementById("urcal").value;
  
   if( age!="" || h!="" || w!=""){
    if(gm ==true){
        res=864-9.72*age + 14.2*w + 503*h;
       document.getElementById("app").innerHTML="The maximum amount of calorie intake per day is  "+res;
   }
   else{
       res=387-7.31*age + 10.9*w + 660.7*h;
     document.getElementById("app").innerHTML="The maximum amount of calorie intake per day is "+ res;
   }}

}

function addItem() {
    var table = document.getElementById("myTable");
    var row = table.insertRow(1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    var cell4 = row.insertCell(3);
    cell1.innerHTML=`<input type="text" style="width:100%;" >`;
    cell2.innerHTML=`<input type="text" style="width:100%;" >`;
    cell3.innerHTML=`<input type="text" style="width:100%;" >`;

    cell4.innerHTML=`<input type="number" step="any"  class="calorie" style="width:100%;" >`;
}

function calculateFood() {var res;
	var gm=document.getElementById("male").checked;

   var age = document.getElementById("age").value;
  

   var h = document.getElementById("height").value;
   var w = document.getElementById("weight").value;
 var urLimit=document.getElementById("urcal").value;    
   if( age!=undefined || h!=undefined || w!=undefined){

if(gm == true){
        res=864-9.72*age + 14.2*w + 503*h;

   }
   else{
       res=387-7.31*age + 10.9*w + 660.7*h;   }}

if(res!=undefined){
    var x = document.querySelectorAll(".calorie");
    var total =0;
    for(var i=0; i<x.length ;i++){
        total+=Number(x[i].value);
    }
     document.getElementById("app2").innerHTML="total =" + total;
     if(total<=res){
         alert("It is safe to have more food :)");
     }else{
         alert("WARNING!! : YOU HAVE EXCEEDED THE DAILY INTAKE LIMIT REQUIRED FOR YOUR BODY");
     }
     
     if(urLimit){if(total<=urLimit){
         document.getElementById("app3").innerHTML="The total is less than limit set by You";
     }else
    {
	    alert("WARNING!! : YOU HAVE EXCEEDED LIMIT SET BY YOU");
              document.getElementById("app3").innerHTML="WARNING!! : YOU HAVE EXCEEDED LIMIT SET BY YOU";
   
    }}
    } 
}
	</script>
</head>

<body >
	
    <h1>Calorie calculator Web Application</h1>
	<p>This application compares calories you consume to calories your body require. You can set your own calorie limit also.</p>


	<div>
	<form >
	<p>Set your Calorie limit:</p>	<input type='number' step="any" id="urcal" class="w3-input w3-border" name="givenCR" required>
	<p>Age (in years):</p>	<input type="number"  id="age" class="w3-input w3-border" required >
	<p>Height (in meters):</p> 	<input type="number" step="any"  id="height" class="w3-input w3-border" required>
	<p>weight (in kgs):</p>	<input type="number" step="any"   id="weight" class="w3-input w3-border" required>
    <p>Gender:</p>


	<input type="radio" name="gender" id="male"  checked required>Male<br>
	
	<input type="radio" name="gender" id="female" required >Female
	<p>Click below button to calculate calorie limit</p>
	<button type="submit" onclick="myCal()" class="w3-button w3-green w3-third">Calculate</button>
	</form></div>
	<br>
	<br>
	
	<p id="app"></p>
	<table id="myTable">
	    <tr>
	        <th>
	            Name of food
	        </th>
		  <th> Fat </th>
		<th>Carbs</th>
	        <th>
	            Calories
	        </th>
	        <td><button style="width:100%;"  onclick="addItem()" class="w3-button w3-green w3-third">Add item</button></td>
	    </tr>
	    <tr>
	        <td ><input type="text" style="width:100%;" ></td>
	        <td ><input type="text" style="width:100%;" ></td>
	        <td ><input type="text" style="width:100%;" ></td>
	        <td ><input type="number" step="any"  class="calorie" style="width:100%;" ></td>
	        <td ><button style="width:100%;" onclick="calculateFood()" class="w3-button w3-green w3-third" >save all</button></td>
	    </tr>
	</table>
	
	<p id="app2"></p>
	<P id="app3"></p>
	
</body>

</html>
